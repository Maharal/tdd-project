Na figura, temos um diagrama de uma máquina de estados hierarquica. O estado inicial, apesar de não estar explicitamente descrtio, é o estado de construção de testes funcionais. Depois de terminar de escrever os testes, o sistema transita para o estado onde o teste falha. Nesse estado o desenvolvedor tem que fazer uma mínima modificação para fazer os testes passarem. Logo após, o desenvolvedor se pergunta se vale a pena ou não refatorar o código. Se sim, o desenvolvedor faz uma modificação minima e adiciona um novo teste de unidade, se passar sucesso; se não, faz o processo novamente até passar. Caso terminado, voltar ao estado inicial e fazer um novo teste funcional